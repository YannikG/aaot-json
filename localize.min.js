// Script by Yannik Gartmann
// Version 1.0.1
// Minify by: https://www.minifier.org/
var localize={translation:undefined,cookieExpires:7,lang:undefined,loadingType:"api",langSupported:["en"],fallBack:"en",apiTimeOut:5000,debug:!1,url:"/api/translation/&lang&",successCallback:function(){if(localize.debug){console.log("successCallback")}},beforeSwitch:function(){if(localize.debug){console.log("beforeSwitch")}},errorCallback:function(){if(localize.debug){console.log("errorCallback")}},setup:function(){if(Cookies.get("lang")){localize.lang=Cookies.get("lang")}else{localize.lang=navigator.language||localize.fallBack;localize.lang=localize.lang.split('-')[0]}
if($.inArray(localize.fallBack,localize.langSupported)==-1){throw new Error("localize.fallBack must be in localize.langSupported!")}
if($.inArray(localize.lang,localize.langSupported)==-1){localize.lang=localize.fallBack}
url=localize.url.replace("&lang&",localize.lang);if(localize.loadingType=="file"){$.getJSON(url,function(data){localize.translate=data;localize.translate()})}
else if(localize.loadingType=="api"){$.ajax({type:"GET",url:url,timeout:localize.apiTimeOut,dataType:"json",success:function(data){localize.translation=data;localize.translate()},error:function(){localize.errorCallback()}})}},switch:function(newLang){localize.beforeSwitch();localize.lang=newLang;Cookies.set("lang",newLang,{expires:localize.cookieExpires,path:''});localize.setup()},translate:function(){$("*[data-tk]").each(function(index,elem){key=$(elem).data("tk");$(elem).text(localize.getTranslation(key))});localize.successCallback()},getTranslation(key){try{return eval("localize.translation."+key)}catch(e){return"Key has no Value!"}}}